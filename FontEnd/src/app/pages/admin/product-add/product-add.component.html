<h1 style="text-align: center">Thêm sản phẩm</h1>

<form (ngSubmit)="onHandleSubmit()" [formGroup]="productForm">
  <div class="form-group">
    <label for="exampleInputEmail1">Tên sách</label>
    <input type="text" formControlName="name" class="form-control" />
    <div *ngIf="isControlInvalid('name')" class="text-danger">
      Vui lòng nhập tên sách và phải có ít nhất 4 ký tự
    </div>
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Tác giả</label>
    <input type="text" formControlName="author" class="form-control" />
    <div *ngIf="isControlInvalid('author')" class="text-danger">
      Vui lòng nhập tên tác giả và phải có ít nhất 4 ký tự
    </div>
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Giá</label>
    <input type="number" formControlName="price" class="form-control" />
  </div>
  <div class="form-group">
  <label for="exampleInputPassword1">Ảnh</label>
  <input
    type="file"
    formControlName="image"
    class="form-control"
    (change)="onImageChange($event)"
    accept="image/*"
  />
</div>

  <div class="form-group">
    <label for="exampleInputPassword1">Số lượng</label>
    <input type="number" formControlName="quantity" class="form-control" />
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Danh mục</label>
    <select
      formControlName="categoryId"
      class="form-control"
      [(ngModel)]="productForm.value.categoryId"
    >
      <option value="">Chọn danh mục</option>
      <option *ngFor="let category of categories" [value]="category._id">
        {{ category.name }}
      </option>
    </select>
    <div *ngIf="isControlInvalid('categoryId')" class="text-danger">
      Vui lòng chọn danh mục
    </div>
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Mô tả</label>
    <input type="text" formControlName="description" class="form-control" />
    <div *ngIf="isControlInvalid('description')" class="text-danger">
      Vui lòng nhập mô tả và phải có ít nhất 4 ký tự
    </div>
  </div>
  <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid">
    Thêm sản phẩm
  </button>
</form>
